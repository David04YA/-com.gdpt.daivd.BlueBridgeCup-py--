# P1536 村村通

## 题目描述

某市调查城镇交通状况，得到现有城镇道路统计表。表中列出了每条道路直接连通的城镇。市政府 "村村通工程" 的目标是使全市任何两个城镇间都可以实现交通（但不一定有直接的道路相连，只要相互之间可达即可）。请你计算出最少还需要建设多少条道路？

## 输入格式

输入包含若干组测试数据，每组测试数据的第一行给出两个用空格隔开的正整数，分别是城镇数目 $n$ 和道路数目 $m$ ；随后的 $m$ 行对应 $m$ 条道路，每行给出一对用空格隔开的正整数，分别是该条道路直接相连的两个城镇的编号。简单起见，城镇从 $1$ 到 $n$ 编号。

注意：两个城市间可以有多条道路相通。

**在输入数据的最后，为一行一个整数 $0$，代表测试数据的结尾。**

## 输出格式

对于每组数据，对应一行一个整数。表示最少还需要建设的道路数目。

## 输入输出样例 #1

### 输入 #1

```
4 2
1 3
4 3
3 3
1 2
1 3
2 3
5 2
1 2
3 5
999 0
0
```

### 输出 #1

```
1
0
2
998
```

## 说明/提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 <= n <=  1000$ 。



# 语言整理

给定若干组数据，每组给n,m表示有n个节点的无向图，有m条边。求使得任意两个节点都可达还需要添加多少条边。

# 思路

- 可达、连通问题，想到并查集维护节点之间的可达性，用union操作更新并查集  <!--用并查集思想来操作，通过union来维护连通块的连接操作，连接操作就是集合的合并操作-->

- 考虑独立连通块的个数，即cnt=len(set(fa))，最少只需要添加cnt-1条边，能够让任意连通块可达，即所有节点可达 <!--考虑独立连通块的个数，通过取set的方式，如下图所示，此时并不是最终的三个连通块，涉及到菊花图的不严谨性问题，只有把所有的连通块都变成一个菊花图时，才能取set来考虑连通块的个数，于是这里进行了一个find()操作，可以让4->3-->

- ![image-20250928164349250](C:\Users\26705\AppData\Roaming\Typora\typora-user-images\image-20250928164349250.png)

- 下标从1开始时，可定fa=list(range(n+1))，同时cnt要减去1

  

  ![image-20250928163823748](C:\Users\26705\AppData\Roaming\Typora\typora-user-images\image-20250928163823748.png)

  如图所示，只要在它们连通块间添加一条边，不管添加在1还是2，都保证了两个连通块连接了。<!--类似于岛屿连接问题-->

  扩展到count个连通块，只需要添加count-1条边就能保证count个连通块里的节点互相连结

  

