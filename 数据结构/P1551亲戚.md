# P1551 亲戚

## 题目背景

若某个家族人员过于庞大，要判断两个是否是亲戚，确实还很不容易，现在给出某个亲戚关系图，求任意给出的两个人是否具有亲戚关系。

## 题目描述

规定：$x$ 和 $y$ 是亲戚，$y$ 和 $z$ 是亲戚，那么 $x$ 和 $z$ 也是亲戚。如果 $x$，$y$ 是亲戚，那么 $x$ 的亲戚都是 $y$ 的亲戚，$y$ 的亲戚也都是 $x$ 的亲戚。

## 输入格式

第一行：三个整数 $n,m,p$，（$n,m,p<= 5000$），分别表示有 $n$ 个人，$m$ 个亲戚关系，询问 $p$ 对亲戚关系。

以下 m行：每行两个数 M_i，M_j，1<=M_i，M_j<=n，表示 $M_i$ 和 $M_j$ 具有亲戚关系。

接下来 $p$ 行：每行两个数 $P_i,P_j$，询问 $P_i$ 和 $P_j$ 是否具有亲戚关系。

## 输出格式

$p$ 行，每行一个 `Yes` 或 `No`。表示第 $i$ 个询问的答案为“具有”或“不具有”亲戚关系。

## 输入输出样例 #1

### 输入 #1

```
6 5 3
1 2
1 5
3 4
5 2
1 3
1 4
2 3
5 6
```

### 输出 #1

```
Yes
Yes
No
```



# 语言整理

对于一个无向图有n个点，m条边，（u,v)表示一条无向边。给定P组查询，每组查询判断p_u,p_v是否可达。



# 思路

1.可达、连通的连通分量可以看作一个集合

2.对给定的无向边（u,v)，可通过union(u,v)合并，表示可达、连通关系。

3.对每组询问，find(p_u)和find(p_v)的关系判断u,v是否可达

![image-20250928161937131](C:\Users\26705\AppData\Roaming\Typora\typora-user-images\image-20250928161937131.png)

![image-20250928162023578](C:\Users\26705\AppData\Roaming\Typora\typora-user-images\image-20250928162023578.png)

## 举例：

在上图中，想要查询2和6是否可达，可以通过find(p_u)和find(p_v)查看他们根节点是否相同来进行可达性判断

> 并查集就是对可达、连通性的判断问题 
>
> 我们一直用并查集维护的集合实际上是维护更新一个连通块，对这个连通块，我们需要不断去更新一个无向边，这种对节点的连接操作其实是对一个集合的合并操作，使用unit函数可以完成

