# 试除法求所有约数

复杂度为:$O(\sqrt{n})$

> 如x=12，x的约数是a，那应该有x//a=b（axb=x)，就像3x4=12。
>
> 最简单的暴力思想：[1,12]每个数去枚举一遍，看是否能整除12（x%i=0)
>
> 优化：12找约数时，找到一个约数意味着有另一个约数也存在，那么考察区间就变成了[1,$int[\sqrt{n}]$]当=$\sqrt{n}$时，代表最后一个约数就是它本身
>
> 同时1和x一定是x的约数，这两个数不用枚举



```python
from math import *
def solve(x):
    res=[] #是一个记录所有约数的列表
    for i in range(2,int(sqrt(x))+1):
        if x %i == 0: #能否被i整除
            res.append(i)
            if i !=x //i: #保证不重复的判断
                res.append(x//i)
 	return res
print(solve(24)) #[2,12,3,8,4,6] 希望从小到大排序就salt
```





## 约数个数

### 题目描述

**本题为填空题，只需要算出结果后，在代码中使用输出语句将所填结果输出即可。**

1200000 有多少个约数（只计算正约数）。

### 运行限制

- 最大运行时间：1s
- 最大运行内存: 128M



```python
from math import *
def solve(x):
    res=[]
    for i in range(2,int(sqrt(x))+1):
        if x%i==0:
            res.append(i)
            if i != x//i:
                res.append(x//i)
  	return len(res)+2 #1和自身
print(solve(1200000))
```



# 分解质因子

> 所谓质因子分解就是将一个正整数n写成一个或多个质数的乘积形式
>
> 质因子：这个数首先是x的因子，它能整除x，同时它又是一个质数
>
> ![image-20251013215224909](C:\Users\26705\AppData\Roaming\Typora\typora-user-images\image-20251013215224909.png)

试除法。复杂度不超过$O(\sqrt{n})$，在$O(logn)$~$O(\sqrt{n})$

对于一个数x，最多有一个大于等于$\sqrt{n}$的质因子（数学证明，在这不给出）

所以只需要进行特判，在遍历完$[2,int[\sqrt{n}]]$区间后，如果x比1大，则x就等于拿最后一个质因子

```python
from math import *
def solve(x):
    for i in range(2,int(sqrt(x))=1): #i=2;i*i<=x
        if x%i==0: #判断能否把当前这个x整除
            s=0 #s表示当前除了多少次
            while x % i ==0:
                s +=1
                x //= i #真正整除一次
          	print(f'{i}{s}') #i是质因子，s是幂次
	if x>1: #判断除完后的x是否还大于1，是就说明是另一个质因子
       print(f'{x} 1')
	print()
solve(2**3 *3 **4 *5 **2 *7 *14)
```

统计质因子及其出现次数

```python
from math import *
def breakdown(x):
    res=[]
    for i in range(2,int(sqrt(x))+1):
        if x % i ==0:
            cnt = 0
            while x % i == 0:
                x //=i
                cnt += 1
                res.append((i,cnt))
 	if x > 1:res.append((x,1))
    return res
print(breakdown(2**3 *3 **4 *5 **2 *7 *14 )) #[(2,4),(3,4),(5,2),(7,2)]
```

